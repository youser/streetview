<html>

<head>
  <title>Street View Containers</title>
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #street-view {
      height: 100%;
    }
  </style>
</head>

<body>
  <div id="street-view"></div>

  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initialize&v=weekly"
    defer></script>
  <script>
    let panorama;
    const cities = [
      { name: "New York", lat: 40.7128, lng: -74.0060 },
      { name: "London", lat: 51.5074, lng: -0.1278 },
      { name: "Tokyo", lat: 35.6762, lng: 139.6503 },
      { name: "Paris", lat: 48.8566, lng: 2.3522 },
      { name: "Sydney", lat: -33.8688, lng: 151.2093 },
      { name: "Moscow", lat: 55.7558, lng: 37.6173 },
      { name: "Berlin", lat: 52.5200, lng: 13.4050 },
      { name: "Rome", lat: 41.9028, lng: 12.4964 }
    ];

    function getRandomCityCoordinates() {
      const city = cities[Math.floor(Math.random() * cities.length)];

      const offset = 0.03; // ~3 км
      const lat = city.lat + (Math.random() - 0.5) * offset * 2;
      const lng = city.lng + (Math.random() - 0.5) * offset * 2;

      return { lat, lng, city: city.name };
    }

    function initialize() {
      const { lat, lng } = getRandomCityCoordinates()

      panorama = new google.maps.StreetViewPanorama(
        document.getElementById("street-view"),
        {
          position: { lat, lng },
          pov: { heading: 165, pitch: 0 },
          zoom: 1,
        },
      );
    }

    window.initialize = initialize;
  </script>
</body>

</html>